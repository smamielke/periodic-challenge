<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nuclear Fusion Visualization ‚òÄÔ∏è | Periodic Challenge</title>
<link rel="stylesheet" href="style.css" />
<style>
body {
  background: radial-gradient(circle at center, #000010 0%, #0a0018 100%);
  color: #fff;
  font-family: system-ui, sans-serif;
  margin: 0;
  padding: 0;
}
main {
  max-width: 1100px;
  margin: 40px auto;
  background: rgba(255,255,255,0.06);
  border-radius: 20px;
  padding: 20px 30px;
  box-shadow: 0 0 30px rgba(255,255,255,0.1);
}
h1 {
  text-align: center;
  font-size: 2rem;
  margin-bottom: 10px;
}
canvas {
  display: block;
  margin: 30px auto;
  background: radial-gradient(circle at center, #001, #020015);
  border-radius: 20px;
  box-shadow: 0 0 30px rgba(0,0,0,0.6);
}
.controls {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin: 15px 0;
}
button {
  padding: 10px 16px;
  border-radius: 10px;
  border: none;
  background: linear-gradient(90deg, #22d3ee, #818cf8);
  color: #fff;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.2s;
}
button:hover { transform: scale(1.05); }
.info-box {
  background: rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 16px;
  text-align: center;
  font-size: 1rem;
  line-height: 1.4;
  margin-top: 10px;
}
.flash {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: radial-gradient(circle, #fff 0%, transparent 70%);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s;
}
</style>
</head>
<body>
<main>
  <h1>‚òÄÔ∏è Nuclear Fusion Visualizer</h1>
  <p style="text-align:center;opacity:0.8;">Watch hydrogen nuclei fuse into helium, just like in the Sun!</p>
  <div class="controls">
    <button id="startBtn">Start Fusion</button>
    <button id="resetBtn">Reset</button>
  </div>
  <div style="position:relative;">
    <canvas id="fusionCanvas" width="800" height="400"></canvas>
    <div class="flash" id="flash"></div>
  </div>
  <div class="info-box" id="info">
    Step 1: Two hydrogen nuclei (protons) are approaching each other.
  </div>
</main>

<script>
const canvas = document.getElementById("fusionCanvas");
const ctx = canvas.getContext("2d");
const info = document.getElementById("info");
const flash = document.getElementById("flash");
let animationId, step = 0;
let particles = [];

function drawProton(x, y, color="#ff4d4d") {
  const gradient = ctx.createRadialGradient(x, y, 5, x, y, 20);
  gradient.addColorStop(0, "#fff");
  gradient.addColorStop(1, color);
  ctx.fillStyle = gradient;
  ctx.beginPath();
  ctx.arc(x, y, 20, 0, Math.PI*2);
  ctx.fill();
  ctx.closePath();
}

function drawNeutron(x, y) {
  const gradient = ctx.createRadialGradient(x, y, 5, x, y, 20);
  gradient.addColorStop(0, "#fff");
  gradient.addColorStop(1, "#999");
  ctx.fillStyle = gradient;
  ctx.beginPath();
  ctx.arc(x, y, 20, 0, Math.PI*2);
  ctx.fill();
  ctx.closePath();
}

function resetScene() {
  cancelAnimationFrame(animationId);
  particles = [
    {x:250, y:200, vx:0, vy:0, type:"p"},
    {x:550, y:200, vx:0, vy:0, type:"p"},
  ];
  step = 0;
  info.textContent = "Step 1: Two hydrogen nuclei (protons) are approaching each other.";
  flash.style.opacity = 0;
  drawScene();
}

function drawScene() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for (const p of particles) {
    if (p.type==="p") drawProton(p.x, p.y);
    if (p.type==="n") drawNeutron(p.x, p.y);
  }
}

function animateFusion() {
  step++;
  if (step === 1) {
    info.textContent = "Step 2: The protons overcome electrostatic repulsion (quantum tunneling).";
    particles[0].vx = 2;
    particles[1].vx = -2;
  }

  if (step > 1 && step < 80) {
    particles[0].x += particles[0].vx;
    particles[1].x += particles[1].vx;
  }

  if (step === 80) {
    info.textContent = "Step 3: The protons fuse, forming deuterium and releasing a positron and neutrino!";
    flash.style.opacity = 1;
    setTimeout(()=>flash.style.opacity=0, 400);
    particles = [
      {x:400, y:200, type:"p"},
      {x:440, y:200, type:"n"}
    ];
  }

  if (step === 150) {
    info.textContent = "Step 4: Another proton collides, forming Helium-3!";
    particles.push({x:480, y:200, type:"p"});
  }

  if (step === 220) {
    info.textContent = "Step 5: Two Helium-3 nuclei combine to form Helium-4, releasing 2 protons.";
    flash.style.opacity = 1;
    setTimeout(()=>flash.style.opacity=0, 400);
    particles = [
      {x:400, y:200, type:"p"},
      {x:440, y:200, type:"n"},
      {x:480, y:200, type:"n"},
      {x:520, y:200, type:"p"},
    ];
  }

  if (step === 300) {
    info.textContent = "üí• Fusion Complete! Energy released powers the stars!";
    flash.style.opacity = 1;
    setTimeout(()=>flash.style.opacity=0, 600);
    cancelAnimationFrame(animationId);
    return;
  }

  drawScene();
  animationId = requestAnimationFrame(animateFusion);
}

document.getElementById("startBtn").addEventListener("click", ()=>{
  cancelAnimationFrame(animationId);
  step = 0;
  animateFusion();
});
document.getElementById("resetBtn").addEventListener("click", resetScene);

resetScene();
</script>
</body>
</html>
